<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>秘密のページ</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles-secret.css">
</head>
<body>
  <h1>秘密のページへようこそ</h1>
  <button id="reveal-access" class="old-style-button">特別アクセス</button>

  <div class="hidden-container" id="hidden-container">
    <div class="input-container">
      <input type="text" id="puzzle-input" placeholder="コードを入力">
      <button id="submit-code" class="new-style-button">コードを送信</button>
    </div>
    <div id="feedback"></div>
    <div class="qr-grid" id="qr-grid">
      <img src="images/y.png" alt="Y QR">
      <img src="images/a.png" alt="A QR">
      <img src="images/w.png" alt="W QR">
      <img src="images/e.png" alt="E QR">
      <img src="images/t.png" alt="T QR">
      <img src="images/a.png" alt="A QR">
      <img src="images/g.png" alt="G QR">
      <img src="images/逆.png" alt="逆 QR">
    </div>
  </div>

  <script>
    const accessButton = document.getElementById("reveal-access");
    const hiddenContainer = document.getElementById("hidden-container");
    const inputField = document.getElementById("puzzle-input");
    const submitButton = document.getElementById("submit-code");
    const feedback = document.getElementById("feedback");

    // Reveal the hidden container when the old-style button is clicked
    accessButton.addEventListener("click", () => {
      hiddenContainer.style.display = "block"; // Show input, button, and QR codes
      accessButton.style.display = "none"; // Hide the old-style button
    });

    // Object containing valid passwords and their destinations
    const validCodes = {
      "gateway": "lore-room.html",
      "特別アクセスコード01": "twine/chinese-room.html"
    };

    submitButton.addEventListener("click", () => {
      const enteredCode = inputField.value.trim();

      if (validCodes[enteredCode]) {
        feedback.textContent = "正しいコードです！リダイレクト中...";
        feedback.style.color = "#00FF00";

        setTimeout(() => {
          window.location.href = validCodes[enteredCode];
        }, 2000);
      } else {
        feedback.textContent = "間違ったコードです。もう一度お試しください。";
        feedback.style.color = "#FF69B4";
      }
    });
  </script>
</body>
</html>
